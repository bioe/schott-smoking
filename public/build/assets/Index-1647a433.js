import{r as E,v as j,c as i,a as c,u as s,w as u,F as m,o as n,X as B,b as _,t as a,d as t,g as N,e as r,f,I as x,h as p,i as O,j as U}from"./app-ddd1e4e5.js";import{P as A}from"./PrimaryButton-27973225.js";import{H as D}from"./HeadRow-512d298a.js";import{_ as L}from"./Paginate-3b2c713c.js";import{A as M}from"./AuthenticatedLayout-c36b5e05.js";import{f as I}from"./helper-449b5e06.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={class:"my-3 p-3 bg-body rounded shadow-sm"},C=["onSubmit"],F={class:"row mb-3"},H={class:"col-md-3"},K={class:"form-floating mb-3"},P=t("label",{for:"keywordInput"},"Keyword",-1),z={class:"col-md-3"},G={class:"form-floating mb-3"},R=t("label",{for:"startInput"},"Entry",-1),X={class:"col-md-3"},Y={class:"form-floating mb-3"},$=t("label",{for:"endInput"},"Exit",-1),q={class:"col-md-3"},J={class:"form-floating mb-3"},Q=t("option",{value:null},"All",-1),W=["value"],Z=t("label",{for:"stationInput"},"Station",-1),tt={class:"col-md-3"},et={class:"form-floating mb-3"},ot=t("option",{value:null},"All",-1),st=t("option",{value:"yes"},"Yes",-1),lt=t("option",{value:"no"},"No",-1),at=[ot,st,lt],nt=t("label",{for:"stationInput"},"Overstay",-1),dt={class:"col-12"},it=t("i",{class:"bi bi-search"},null,-1),rt={class:"table table-bordered table-striped table-hover"},vt={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},station_list:{type:Object}},setup(d){const S=d,V="entrylogs",b=E("Entry Logs"),o=j(S.filters),k=v=>{o.sort.field=v,o.sort.direction=o.sort.direction==""||o.sort.direction=="desc"?"asc":"desc",h()},h=()=>{o.get(route(V+".index"),{preserveScroll:!0})};return(v,l)=>(n(),i(m,null,[c(s(B),{title:b.value},null,8,["title"]),c(M,null,{header:u(()=>[_(a(b.value),1)]),default:u(()=>[t("div",T,[t("form",{onSubmit:N(h,["prevent"])},[t("div",F,[t("div",H,[t("div",K,[r(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>s(o).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[f,s(o).keyword]]),P])]),t("div",z,[t("div",G,[r(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>s(o).start=e),type:"date",class:"form-control",id:"startInput",placeholder:"Start",autocomplete:"off"},null,512),[[f,s(o).start]]),R])]),t("div",X,[t("div",Y,[r(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>s(o).end=e),type:"date",class:"form-control",id:"endInput",placeholder:"End",autocomplete:"off"},null,512),[[f,s(o).end]]),$])]),t("div",q,[t("div",J,[r(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>s(o).station_id=e),class:"form-select"},[Q,(n(!0),i(m,null,p(d.station_list,e=>(n(),i("option",{value:e.id},a(e.name),9,W))),256))],512),[[x,s(o).station_id]]),Z])]),t("div",tt,[t("div",et,[r(t("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>s(o).overstay=e),class:"form-select"},at,512),[[x,s(o).overstay]]),nt])]),t("div",dt,[c(A,{type:"submit",disabled:s(o).processing},{default:u(()=>[it,_(" Search ")]),_:1},8,["disabled"])])])],40,C),t("table",rt,[t("thead",null,[t("tr",null,[(n(!0),i(m,null,p(d.header,e=>(n(),O(D,{field:e.field,sort:e.sortable?d.filters.sort:null,onSortEvent:k,disabled:s(o).processing},{default:u(()=>[_(a(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(n(!0),i(m,null,p(d.list.data,(e,ct)=>{var y,g,w;return n(),i("tr",null,[t("td",null,a((y=e.employee)==null?void 0:y.card_id),1),t("td",null,a((g=e.employee)==null?void 0:g.name),1),t("td",null,a((w=e.station)==null?void 0:w.name),1),t("td",null,a(s(I)(e.enter_time)),1),t("td",null,a(s(I)(e.exit_time)),1),t("td",{class:U(e.overstay_seconds>0?"text-danger":"")},a(e.stay_label),3)])}),256))])]),c(L,{data:d.list},null,8,["data"])])]),_:1})],64))}};export{vt as default};
