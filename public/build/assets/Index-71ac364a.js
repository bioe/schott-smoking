import{r as S,v as j,c as d,a,u as o,w as i,F as m,o as l,X as N,b as _,t as n,d as t,g as O,e as v,f as V,I as B,h as b,p as I,n as w,i as A,j as D,O as $}from"./app-81228d10.js";import{P as E}from"./PrimaryButton-76c31b25.js";import{H as g}from"./HeadRow-96fd1d22.js";import{_ as M}from"./Paginate-55f629eb.js";import{A as T}from"./AuthenticatedLayout-aaed9277.js";import{f as F}from"./helper-449b5e06.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"my-3 p-3 bg-body rounded shadow-sm"},K=["onSubmit"],L={class:"row mb-3"},P={class:"col-md-3"},U={class:"form-floating mb-3"},z=t("label",{for:"keywordInput"},"Keyword",-1),G={class:"col-md-3"},R={class:"form-floating mb-3"},X=t("option",{value:null},"All",-1),q=["value"],J={key:0,value:"is_null"},Q=t("label",{for:"keywordInput"},"Cost Center",-1),W={class:"col-12"},Y=t("i",{class:"bi bi-search"},null,-1),Z={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},tt=t("i",{class:"bi bi-plus"},null,-1),et={class:"table table-bordered table-striped table-hover"},st={width:"10%"},ot=t("i",{class:"bi bi-pencil"},null,-1),lt=["onClick"],nt=t("i",{class:"bi bi-trash"},null,-1),rt=[nt],ht={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},cost_center_list:{type:Object}},setup(c){const k=c,f="employees",h=S("Employees"),s=j(k.filters),C=r=>{s.sort.field=r,s.sort.direction=s.sort.direction==""||s.sort.direction=="desc"?"asc":"desc",p()},p=()=>{s.get(route(f+".index"),{preserveScroll:!0})},x=(r,u)=>{confirm(`Delete this employee ${u} ?`)&&$.delete(route(f+".destroy",r))};return(r,u)=>(l(),d(m,null,[a(o(N),{title:h.value},null,8,["title"]),a(T,null,{header:i(()=>[_(n(h.value),1)]),default:i(()=>[t("div",H,[t("form",{onSubmit:O(p,["prevent"])},[t("div",L,[t("div",P,[t("div",U,[v(t("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>o(s).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[V,o(s).keyword]]),z])]),t("div",G,[t("div",R,[v(t("select",{"onUpdate:modelValue":u[1]||(u[1]=e=>o(s).cost_center_id=e),class:"form-select"},[X,(l(!0),d(m,null,b(c.cost_center_list,e=>(l(),d("option",{value:e.id},n(e.code),9,q))),256)),r.$page.props.auth.user.cost_center_id==null?(l(),d("option",J,"No Cost Center ")):I("",!0)],512),[[B,o(s).cost_center_id]]),Q])]),t("div",W,[a(E,{type:"submit",disabled:o(s).processing},{default:i(()=>[Y,_(" Search ")]),_:1},8,["disabled"])])])],40,K),t("div",Z,[a(o(w),{class:"btn btn-outline-primary btn-sm",href:r.route(f+".create")},{default:i(()=>[tt,_(" Create ")]),_:1},8,["href"])]),t("table",et,[t("thead",null,[t("tr",null,[a(g,null,{default:i(()=>[_("Actions")]),_:1}),(l(!0),d(m,null,b(c.header,e=>(l(),A(g,{field:e.field,sort:e.sortable?c.filters.sort:null,onSortEvent:C,disabled:o(s).processing},{default:i(()=>[_(n(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(l(!0),d(m,null,b(c.list.data,(e,dt)=>{var y;return l(),d("tr",null,[t("td",st,[a(o(w),{href:r.route(f+".edit",e.id),class:"btn btn-sm btn-link"},{default:i(()=>[ot]),_:2},1032,["href"]),t("button",{onClick:at=>x(e.id,e.name),class:"btn btn-sm btn-link"},rt,8,lt)]),t("td",{class:D(e.active==0?"text-danger":"")},n(e.staff_no),3),t("td",null,n(e.card_id),1),t("td",null,n(e.name),1),t("td",null,n((y=e.cost_center)==null?void 0:y.code),1),t("td",null,n(o(F)(e.created_at)),1)])}),256))])]),a(M,{data:c.list},null,8,["data"])])]),_:1})],64))}};export{ht as default};
