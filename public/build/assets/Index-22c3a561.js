import{r as S,v as j,c as r,a as d,u as o,w as a,F as f,o as l,X as N,b as _,t as i,d as t,g as O,e as v,f as V,I as B,h as b,p as I,n as w,i as A,j as D,O as $}from"./app-ddd1e4e5.js";import{P as E}from"./PrimaryButton-27973225.js";import{H as g}from"./HeadRow-512d298a.js";import{_ as M}from"./Paginate-3b2c713c.js";import{A as T}from"./AuthenticatedLayout-c36b5e05.js";import{f as F}from"./helper-449b5e06.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"my-3 p-3 bg-body rounded shadow-sm"},K=["onSubmit"],L={class:"row mb-3"},P={class:"col-md-3"},U={class:"form-floating mb-3"},z=t("label",{for:"keywordInput"},"Keyword",-1),G={class:"col-md-3"},R={class:"form-floating mb-3"},X=t("option",{value:null},"All",-1),q=["value"],J={key:0,value:"is_null"},Q=t("label",{for:"keywordInput"},"Cost Center",-1),W={class:"col-12"},Y=t("i",{class:"bi bi-search"},null,-1),Z={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},tt=t("i",{class:"bi bi-plus"},null,-1),et={class:"table table-bordered table-striped table-hover"},st={width:"10%"},ot=t("i",{class:"bi bi-pencil"},null,-1),lt=["onClick"],nt=t("i",{class:"bi bi-trash"},null,-1),rt=[nt],ht={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},cost_center_list:{type:Object}},setup(c){const k=c,m="employees",h=S("Employees"),s=j(k.filters),C=n=>{s.sort.field=n,s.sort.direction=s.sort.direction==""||s.sort.direction=="desc"?"asc":"desc",p()},p=()=>{s.get(route(m+".index"),{preserveScroll:!0})},x=(n,u)=>{confirm(`Delete this employee ${u} ?`)&&$.delete(route(m+".destroy",n))};return(n,u)=>(l(),r(f,null,[d(o(N),{title:h.value},null,8,["title"]),d(T,null,{header:a(()=>[_(i(h.value),1)]),default:a(()=>[t("div",H,[t("form",{onSubmit:O(p,["prevent"])},[t("div",L,[t("div",P,[t("div",U,[v(t("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>o(s).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[V,o(s).keyword]]),z])]),t("div",G,[t("div",R,[v(t("select",{"onUpdate:modelValue":u[1]||(u[1]=e=>o(s).cost_center_id=e),class:"form-select"},[X,(l(!0),r(f,null,b(c.cost_center_list,e=>(l(),r("option",{value:e.id},i(e.code),9,q))),256)),n.$page.props.auth.user.cost_center_id==null?(l(),r("option",J,"No Cost Center ")):I("",!0)],512),[[B,o(s).cost_center_id]]),Q])]),t("div",W,[d(E,{type:"submit",disabled:o(s).processing},{default:a(()=>[Y,_(" Search ")]),_:1},8,["disabled"])])])],40,K),t("div",Z,[d(o(w),{class:"btn btn-outline-primary btn-sm",href:n.route(m+".create")},{default:a(()=>[tt,_(" Create ")]),_:1},8,["href"])]),t("table",et,[t("thead",null,[t("tr",null,[d(g,null,{default:a(()=>[_("Actions")]),_:1}),(l(!0),r(f,null,b(c.header,e=>(l(),A(g,{field:e.field,sort:e.sortable?c.filters.sort:null,onSortEvent:C,disabled:o(s).processing},{default:a(()=>[_(i(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(l(!0),r(f,null,b(c.list.data,(e,dt)=>{var y;return l(),r("tr",null,[t("td",st,[d(o(w),{href:n.route(m+".edit",e.id),class:"btn btn-sm btn-link"},{default:a(()=>[ot]),_:2},1032,["href"]),t("button",{onClick:at=>x(e.id,e.name),class:"btn btn-sm btn-link"},rt,8,lt)]),t("td",{class:D(e.active==0?"text-danger":"")},i(e.card_id),3),t("td",null,i(e.name),1),t("td",null,i((y=e.cost_center)==null?void 0:y.code),1),t("td",null,i(o(F)(e.created_at)),1)])}),256))])]),d(M,{data:c.list},null,8,["data"])])]),_:1})],64))}};export{ht as default};
