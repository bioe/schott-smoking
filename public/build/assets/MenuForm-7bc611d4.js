import{v as E,c as a,d as u,a as s,w as m,F as _,h as A,g as I,o as c,b as p,u as i,t as f,p as x}from"./app-2ba7b198.js";import{_ as k}from"./InputLabel-fb6d7210.js";import{P as U}from"./PrimaryButton-4270aeb5.js";import{_ as v}from"./Checkbox-0a2b2131.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"row g-3"},w={class:"kt-checkbox-list"},O={class:"d-flex align-items-center mb-2"},P={key:0},S=["name"],V=u("span",null,null,-1),j=["name"],F={key:0},M=["name"],D=["name"],K={key:0},L=["name"],T=["name"],G={class:"col-12"},Y={__name:"MenuForm",props:{data:{type:Object,default:()=>({})},menu_list:{type:Array},select_all_flag:{type:Boolean}},setup(h){const y=h,B="users.menu",t=E({menus:y.data.menu_flags}),d=o=>{if(typeof o=="string")return o.substring(0,o.lastIndexOf("."))},N=()=>{const o={...y};o.select_all_flag=!o.select_all_flag;const r=Object.keys(t.menus);for(const e of r)t.menus[e].active||(t.menus[e]={...t.menus[e],active:o.select_all_flag});document.getElementById("selectAll").style="display:none",document.getElementById("removeAll").style="display:block"},C=()=>{const o={...y};o.select_all_flag=o.select_all_flag;const r=Object.keys(t.menus);for(const e of r)t.menus[e].active&&(t.menus[e]={...t.menus[e],active:o.select_all_flag});document.getElementById("removeAll").style="display:none",document.getElementById("selectAll").style="display:block"};return(o,r)=>(c(),a("form",{onSubmit:r[2]||(r[2]=I(e=>i(t).patch(o.route(B+".update",h.data.id)),["prevent"]))},[u("div",$,[u("div",w,[u("div",O,[s(k,{for:"selectAll",value:"Check to Access",class:"me-3"}),s(U,{id:"selectAll",style:{display:"block"},type:"button",onClick:r[0]||(r[0]=e=>N())},{default:m(()=>[p("Select All ")]),_:1}),s(U,{id:"removeAll",style:{display:"none"},type:"button",onClick:r[1]||(r[1]=e=>C())},{default:m(()=>[p("Remove All ")]),_:1})]),(c(!0),a(_,null,A(h.menu_list,(e,H)=>(c(),a("ul",null,[e.title!="Dashboard"?(c(),a("li",P,[s(k,{class:"kt-checkbox"},{default:m(()=>[e.route?(c(),a(_,{key:0},[u("input",{type:"hidden",name:"form.menus["+d(e.route)+"][active]",value:"0"},null,8,S),s(v,{id:e.title,name:"form.menus["+d(e.route)+"][active]",checked:i(t).menus[d(e.route)].active,"onUpdate:checked":l=>i(t).menus[d(e.route)].active=l,value:"1"},{default:m(()=>[p(f(e.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"]),V],64)):(c(),a(_,{key:1},[u("input",{type:"hidden",name:"form.menus["+e.title+"][active]",value:"0"},null,8,j),s(v,{id:e.title,name:"form.menus["+e.title+"][active]",checked:i(t).menus[e.title].active,"onUpdate:checked":l=>i(t).menus[e.title].active=l,value:"1"},{default:m(()=>[p(f(e.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"])],64))]),_:2},1024),e.submenus&&e.submenus.length>0?(c(),a("ul",F,[(c(!0),a(_,null,A(e.submenus,(l,R)=>(c(),a("li",null,[s(k,{class:"kt-checkbox"},{default:m(()=>[l.route?(c(),a(_,{key:0},[u("input",{type:"hidden",name:"form.menus["+d(l.route)+"][active]",value:"0"},null,8,M),s(v,{id:l.title,name:"form.menus["+d(l.route)+"][active]",checked:i(t).menus[d(l.route)].active,"onUpdate:checked":n=>i(t).menus[d(l.route)].active=n,value:"1"},{default:m(()=>[p(f(l.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"])],64)):(c(),a(_,{key:1},[u("input",{type:"hidden",name:"form.menus["+l.title+"][active]",value:"0"},null,8,D),s(v,{id:l.title,name:"form.menus["+l.title+"][active]",checked:i(t).menus[l.title].active,"onUpdate:checked":n=>i(t).menus[l.title].active=n,value:"1"},{default:m(()=>[p(f(l.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"])],64))]),_:2},1024),l.submenus&&l.submenus.length>0?(c(),a("ul",K,[(c(!0),a(_,null,A(l.submenus,(n,q)=>(c(),a("li",null,[s(k,{class:"kt-checkbox"},{default:m(()=>[n.route?(c(),a(_,{key:0},[u("input",{type:"hidden",name:"form.menus["+d(n.route)+"][active]",value:"0"},null,8,L),s(v,{id:n.title,name:"form.menus["+d(n.route)+"][active]",checked:i(t).menus[d(n.route)].active,"onUpdate:checked":g=>i(t).menus[d(n.route)].active=g,value:"1"},{default:m(()=>[p(f(n.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"])],64)):(c(),a(_,{key:1},[u("input",{type:"hidden",name:"form.menus["+n.title+"][active]",value:"0"},null,8,T),s(v,{id:n.title,name:"form.menus["+n.title+"][active]",checked:i(t).menus[n.title].active,"onUpdate:checked":g=>i(t).menus[n.title].active=g,value:"1"},{default:m(()=>[p(f(n.title),1)]),_:2},1032,["id","name","checked","onUpdate:checked"])],64))]),_:2},1024)]))),256))])):x("",!0)]))),256))])):x("",!0)])):x("",!0)]))),256))]),u("div",G,[s(U,{type:"submit",innerHTML:"Save"})])])],32))}};export{Y as default};
