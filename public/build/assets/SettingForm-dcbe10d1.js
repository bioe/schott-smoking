import{o as G,c as N,d as D,p as k,V as ze,g as Be,j as E,F as be,h as we,s as Z,K as el,b as Tl,t as de,W as X,Y as Pe,r as H,l as h,B as x,Z as De,z as tl,v as ql,a as ve,u as ae}from"./app-81228d10.js";import{_ as ll}from"./InputError-7fd87363.js";import{_ as al}from"./InputLabel-c277ff95.js";import{P as El}from"./PrimaryButton-76c31b25.js";import"./_plugin-vue_export-helper-c27b6911.js";function te(e){return[null,void 0].indexOf(e)!==-1}function Cl(e,i,a){const{object:r,valueProp:n,mode:g}=X(e),t=Pe().proxy,v=a.iv,q=(y,I=!0)=>{v.value=c(y);const S=m(y);i.emit("change",S,t),I&&(i.emit("input",S),i.emit("update:modelValue",S))},m=y=>r.value||te(y)?y:Array.isArray(y)?y.map(I=>I[n.value]):y[n.value],c=y=>te(y)?g.value==="single"?{}:[]:y;return{update:q}}function Il(e,i){const{value:a,modelValue:r,mode:n,valueProp:g}=X(e),t=H(n.value!=="single"?[]:{}),v=r&&r.value!==void 0?r:a,q=h(()=>n.value==="single"?t.value[g.value]:t.value.map(c=>c[g.value])),m=h(()=>n.value!=="single"?t.value.map(c=>c[g.value]).join(","):t.value[g.value]);return{iv:t,internalValue:t,ev:v,externalValue:v,textValue:m,plainValue:q}}function Bl(e,i,a){const{regex:r}=X(e),n=Pe().proxy,g=a.isOpen,t=a.open,v=H(null),q=H(null),m=()=>{v.value=""},c=S=>{v.value=S.target.value},y=S=>{if(r&&r.value){let w=r.value;typeof w=="string"&&(w=new RegExp(w)),S.key.match(w)||S.preventDefault()}},I=S=>{if(r&&r.value){let R=(S.clipboardData||window.clipboardData).getData("Text"),B=r.value;typeof B=="string"&&(B=new RegExp(B)),R.split("").every(b=>!!b.match(B))||S.preventDefault()}i.emit("paste",S,n)};return x(v,S=>{!g.value&&S&&t(),i.emit("search-change",S,n)}),{search:v,input:q,clearSearch:m,handleSearchInput:c,handleKeypress:y,handlePaste:I}}function Dl(e,i,a){const{groupSelect:r,mode:n,groups:g,disabledProp:t}=X(e),v=H(null),q=c=>{c===void 0||c!==null&&c[t.value]||g.value&&c&&c.group&&(n.value==="single"||!r.value)||(v.value=c)};return{pointer:v,setPointer:q,clearPointer:()=>{q(null)}}}function Ue(e,i=!0){return i?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function Al(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rl(e,i){const a=i.slice().sort();return e.length===i.length&&e.slice().sort().every(function(r,n){return r===a[n]})}function jl(e,i,a){const{options:r,mode:n,trackBy:g,limit:t,hideSelected:v,createTag:q,createOption:m,label:c,appendNewTag:y,appendNewOption:I,multipleLabel:S,object:w,loading:R,delay:B,resolveOnLoad:b,minChars:o,filterResults:C,clearOnSearch:V,clearOnSelect:z,valueProp:p,allowAbsent:F,groupLabel:U,canDeselect:M,max:J,strict:$,closeOnSelect:d,closeOnDeselect:L,groups:_,reverse:ne,infinite:ye,groupOptions:W,groupHideEmpty:Te,groupSelect:P,onCreate:A,disabledProp:j,searchStart:ie,searchFilter:Oe}=X(e),Y=Pe().proxy,T=a.iv,s=a.ev,f=a.search,Q=a.clearSearch,se=a.update,nl=a.pointer,fe=a.clearPointer,sl=a.focus,ul=a.deactivate,pe=a.close,rl=a.localize,Se=H([]),oe=H([]),ee=H(!1),Re=H(null),je=H(ye.value&&t.value===-1?10:t.value),We=h(()=>q.value||m.value||!1),il=h(()=>y.value!==void 0?y.value:I.value!==void 0?I.value:!0),ce=h(()=>{if(_.value){let l=qe.value||[],u=[];return l.forEach(O=>{Fe(O[W.value]).forEach(K=>{u.push(Object.assign({},K,O[j.value]?{[j.value]:!0}:{}))})}),u}else{let l=Fe(oe.value||[]);return Se.value.length&&(l=l.concat(Se.value)),l}}),Ye=h(()=>{let l=ce.value;return ne.value&&(l=l.reverse()),he.value.length&&(l=he.value.concat(l)),Ke(l)}),Le=h(()=>{let l=Ye.value;return je.value>0&&(l=l.slice(0,je.value)),l}),qe=h(()=>{if(!_.value)return[];let l=[],u=oe.value||[];return Se.value.length&&l.push({[U.value]:" ",[W.value]:[...Se.value],__CREATE__:!0}),l.concat(u)}),ol=h(()=>{let l=[...qe.value].map(u=>({...u}));return he.value.length&&(l[0]&&l[0].__CREATE__?l[0][W.value]=[...he.value,...l[0][W.value]]:l=[{[U.value]:" ",[W.value]:[...he.value],__CREATE__:!0}].concat(l)),l}),Ze=h(()=>{if(!_.value)return[];let l=ol.value;return wl((l||[]).map((u,O)=>{const K=Fe(u[W.value]);return{...u,index:O,group:!0,[W.value]:Ke(K,!1).map(ke=>Object.assign({},ke,u[j.value]?{[j.value]:!0}:{})),__VISIBLE__:Ke(K).map(ke=>Object.assign({},ke,u[j.value]?{[j.value]:!0}:{}))}}))}),Me=h(()=>{switch(n.value){case"single":return!te(T.value[p.value]);case"multiple":case"tags":return!te(T.value)&&T.value.length>0}}),cl=h(()=>S!==void 0&&S.value!==void 0?S.value(T.value,Y):T.value&&T.value.length>1?`${T.value.length} options selected`:"1 option selected"),dl=h(()=>!ce.value.length&&!ee.value&&!he.value.length),vl=h(()=>ce.value.length>0&&Le.value.length==0&&(f.value&&_.value||!_.value)),he=h(()=>We.value===!1||!f.value?[]:Sl(f.value)!==-1?[]:[{[p.value]:f.value,[le.value]:f.value,[c.value]:f.value,__CREATE__:!0}]),le=h(()=>g.value||c.value),fl=h(()=>{switch(n.value){case"single":return null;case"multiple":case"tags":return[]}}),pl=h(()=>R.value||ee.value),ge=l=>{switch(typeof l!="object"&&(l=re(l)),n.value){case"single":se(l);break;case"multiple":case"tags":se(T.value.concat(l));break}i.emit("select",Je(l),l,Y)},me=l=>{switch(typeof l!="object"&&(l=re(l)),n.value){case"single":Xe();break;case"tags":case"multiple":se(Array.isArray(l)?T.value.filter(u=>l.map(O=>O[p.value]).indexOf(u[p.value])===-1):T.value.filter(u=>u[p.value]!=l[p.value]));break}i.emit("deselect",Je(l),l,Y)},Je=l=>w.value?l:l[p.value],Qe=l=>{me(l)},hl=(l,u)=>{if(u.button!==0){u.preventDefault();return}Qe(l)},Xe=()=>{i.emit("clear",Y),se(fl.value)},ue=l=>{if(l.group!==void 0)return n.value==="single"?!1:Ol(l[W.value])&&l[W.value].length;switch(n.value){case"single":return!te(T.value)&&T.value[p.value]==l[p.value];case"tags":case"multiple":return!te(T.value)&&T.value.map(u=>u[p.value]).indexOf(l[p.value])!==-1}},Ve=l=>l[j.value]===!0,Ge=()=>J===void 0||J.value===-1||!Me.value&&J.value>0?!1:T.value.length>=J.value,gl=l=>{if(!Ve(l)){if(A&&A.value&&!ue(l)&&l.__CREATE__&&(l={...l},delete l.__CREATE__,l=A.value(l,Y),l instanceof Promise)){ee.value=!0,l.then(u=>{ee.value=!1,$e(u)});return}$e(l)}},$e=l=>{switch(l.__CREATE__&&(l={...l},delete l.__CREATE__),n.value){case"single":if(l&&ue(l)){M.value&&me(l),L.value&&(fe(),pe());return}l&&Ne(l),z.value&&Q(),d.value&&(fe(),pe()),l&&ge(l);break;case"multiple":if(l&&ue(l)){me(l),L.value&&(fe(),pe());return}if(Ge()){i.emit("max",Y);return}l&&(Ne(l),ge(l)),z.value&&Q(),v.value&&fe(),d.value&&pe();break;case"tags":if(l&&ue(l)){me(l),L.value&&(fe(),pe());return}if(Ge()){i.emit("max",Y);return}l&&Ne(l),z.value&&Q(),l&&ge(l),v.value&&fe(),d.value&&pe();break}d.value||sl()},ml=l=>{if(!(Ve(l)||n.value==="single"||!P.value)){switch(n.value){case"multiple":case"tags":yl(l[W.value])?me(l[W.value]):ge(l[W.value].filter(u=>T.value.map(O=>O[p.value]).indexOf(u[p.value])===-1).filter(u=>!u[j.value]).filter((u,O)=>T.value.length+1+O<=J.value||J.value===-1));break}d.value&&ul()}},Ne=l=>{re(l[p.value])===void 0&&We.value&&(i.emit("tag",l[p.value],Y),i.emit("option",l[p.value],Y),i.emit("create",l[p.value],Y),il.value&&kl(l),Q())},bl=()=>{n.value!=="single"&&ge(Le.value.filter(l=>!l.disabled&&!ue(l)))},yl=l=>l.find(u=>!ue(u)&&!u[j.value])===void 0,Ol=l=>l.find(u=>!ue(u))===void 0,re=l=>ce.value[ce.value.map(u=>String(u[p.value])).indexOf(String(l))],Sl=(l,u=!0)=>ce.value.map(O=>parseInt(O[le.value])==O[le.value]?parseInt(O[le.value]):O[le.value]).indexOf(parseInt(l)==l?parseInt(l):l),Ll=l=>["tags","multiple"].indexOf(n.value)!==-1&&v.value&&ue(l),kl=l=>{Se.value.push(l)},wl=l=>Te.value?l.filter(u=>f.value?u.__VISIBLE__.length:u[W.value].length):l.filter(u=>f.value?u.__VISIBLE__.length:!0),Ke=(l,u=!0)=>{let O=l;if(f.value&&C.value){let K=Oe.value;K||(K=(ke,ga)=>{let xe=Ue(rl(ke[le.value]),$.value);return ie.value?xe.startsWith(Ue(f.value,$.value)):xe.indexOf(Ue(f.value,$.value))!==-1}),O=O.filter(K)}return v.value&&u&&(O=O.filter(K=>!Ll(K))),O},Fe=l=>{let u=l;return Al(u)&&(u=Object.keys(u).map(O=>{let K=u[O];return{[p.value]:O,[le.value]:K,[c.value]:K}})),u=u.map(O=>typeof O=="object"?O:{[p.value]:O,[le.value]:O,[c.value]:O}),u},Ee=()=>{te(s.value)||(T.value=Ie(s.value))},Ce=l=>(ee.value=!0,new Promise((u,O)=>{r.value(f.value,Y).then(K=>{oe.value=K||[],typeof l=="function"&&l(K),ee.value=!1}).catch(K=>{console.error(K),oe.value=[],ee.value=!1}).finally(()=>{u()})})),He=()=>{if(Me.value)if(n.value==="single"){let l=re(T.value[p.value]);if(l!==void 0){let u=l[c.value];T.value[c.value]=u,w.value&&(s.value[c.value]=u)}}else T.value.forEach((l,u)=>{let O=re(T.value[u][p.value]);if(O!==void 0){let K=O[c.value];T.value[u][c.value]=K,w.value&&(s.value[u][c.value]=K)}})},Pl=l=>{Ce(l)},Ie=l=>te(l)?n.value==="single"?{}:[]:w.value?l:n.value==="single"?re(l)||(F.value?{[c.value]:l,[p.value]:l,[le.value]:l}:{}):l.filter(u=>!!re(u)||F.value).map(u=>re(u)||{[c.value]:u,[p.value]:u,[le.value]:u}),_e=()=>{Re.value=x(f,l=>{l.length<o.value||!l&&o.value!==0||(ee.value=!0,V.value&&(oe.value=[]),setTimeout(()=>{l==f.value&&r.value(f.value,Y).then(u=>{(l==f.value||!f.value)&&(oe.value=u,nl.value=Le.value.filter(O=>O[j.value]!==!0)[0]||null,ee.value=!1)}).catch(u=>{console.error(u)})},B.value))},{flush:"sync"})};if(n.value!=="single"&&!te(s.value)&&!Array.isArray(s.value))throw new Error(`v-model must be an array when using "${n.value}" mode`);return r&&typeof r.value=="function"?b.value?Ce(Ee):w.value==!0&&Ee():(oe.value=r.value,Ee()),B.value>-1&&_e(),x(B,(l,u)=>{Re.value&&Re.value(),l>=0&&_e()}),x(s,l=>{if(te(l)){se(Ie(l),!1);return}switch(n.value){case"single":(w.value?l[p.value]!=T.value[p.value]:l!=T.value[p.value])&&se(Ie(l),!1);break;case"multiple":case"tags":Rl(w.value?l.map(u=>u[p.value]):l,T.value.map(u=>u[p.value]))||se(Ie(l),!1);break}},{deep:!0}),x(r,(l,u)=>{typeof e.options=="function"?b.value&&(!u||l&&l.toString()!==u.toString())&&Ce():(oe.value=e.options,Object.keys(T.value).length||Ee(),He())}),x(c,He),{pfo:Ye,fo:Le,filteredOptions:Le,hasSelected:Me,multipleLabelText:cl,eo:ce,extendedOptions:ce,eg:qe,extendedGroups:qe,fg:Ze,filteredGroups:Ze,noOptions:dl,noResults:vl,resolving:ee,busy:pl,offset:je,select:ge,deselect:me,remove:Qe,selectAll:bl,clear:Xe,isSelected:ue,isDisabled:Ve,isMax:Ge,getOption:re,handleOptionClick:gl,handleGroupClick:ml,handleTagRemove:hl,refreshOptions:Pl,resolveOptions:Ce,refreshLabels:He}}function Ml(e,i,a){const{valueProp:r,showOptions:n,searchable:g,groupLabel:t,groups:v,mode:q,groupSelect:m,disabledProp:c,groupOptions:y}=X(e),I=a.fo,S=a.fg,w=a.handleOptionClick,R=a.handleGroupClick,B=a.search,b=a.pointer,o=a.setPointer,C=a.clearPointer,V=a.multiselect,z=a.isOpen,p=h(()=>I.value.filter(s=>!s[c.value])),F=h(()=>S.value.filter(s=>!s[c.value])),U=h(()=>q.value!=="single"&&m.value),M=h(()=>b.value&&b.value.group),J=h(()=>Y(b.value)),$=h(()=>{const s=M.value?b.value:Y(b.value),f=F.value.map(se=>se[t.value]).indexOf(s[t.value]);let Q=F.value[f-1];return Q===void 0&&(Q=L.value),Q}),d=h(()=>{let s=F.value.map(f=>f.label).indexOf(M.value?b.value[t.value]:Y(b.value)[t.value])+1;return F.value.length<=s&&(s=0),F.value[s]}),L=h(()=>[...F.value].slice(-1)[0]),_=h(()=>b.value.__VISIBLE__.filter(s=>!s[c.value])[0]),ne=h(()=>{const s=J.value.__VISIBLE__.filter(f=>!f[c.value]);return s[s.map(f=>f[r.value]).indexOf(b.value[r.value])-1]}),ye=h(()=>{const s=Y(b.value).__VISIBLE__.filter(f=>!f[c.value]);return s[s.map(f=>f[r.value]).indexOf(b.value[r.value])+1]}),W=h(()=>[...$.value.__VISIBLE__.filter(s=>!s[c.value])].slice(-1)[0]),Te=h(()=>[...L.value.__VISIBLE__.filter(s=>!s[c.value])].slice(-1)[0]),P=s=>b.value&&(!s.group&&b.value[r.value]===s[r.value]||s.group!==void 0&&b.value[t.value]===s[t.value])?!0:void 0,A=()=>{o(p.value[0]||null)},j=()=>{!b.value||b.value[c.value]===!0||(M.value?R(b.value):w(b.value))},ie=()=>{if(b.value===null)o((v.value&&U.value?F.value[0].__CREATE__?p.value[0]:F.value[0]:p.value[0])||null);else if(v.value&&U.value){let s=M.value?_.value:ye.value;s===void 0&&(s=d.value,s.__CREATE__&&(s=s[y.value][0])),o(s||null)}else{let s=p.value.map(f=>f[r.value]).indexOf(b.value[r.value])+1;p.value.length<=s&&(s=0),o(p.value[s]||null)}De(()=>{T()})},Oe=()=>{if(b.value===null){let s=p.value[p.value.length-1];v.value&&U.value&&(s=Te.value,s===void 0&&(s=L.value)),o(s||null)}else if(v.value&&U.value){let s=M.value?W.value:ne.value;s===void 0&&(s=M.value?$.value:J.value,s.__CREATE__&&(s=W.value,s===void 0&&(s=$.value))),o(s||null)}else{let s=p.value.map(f=>f[r.value]).indexOf(b.value[r.value])-1;s<0&&(s=p.value.length-1),o(p.value[s]||null)}De(()=>{T()})},Y=s=>F.value.find(f=>f.__VISIBLE__.map(Q=>Q[r.value]).indexOf(s[r.value])!==-1),T=()=>{let s=V.value.querySelector("[data-pointed]");if(!s)return;let f=s.parentElement.parentElement;v.value&&(f=M.value?s.parentElement.parentElement.parentElement:s.parentElement.parentElement.parentElement.parentElement),s.offsetTop+s.offsetHeight>f.clientHeight+f.scrollTop&&(f.scrollTop=s.offsetTop+s.offsetHeight-f.clientHeight),s.offsetTop<f.scrollTop&&(f.scrollTop=s.offsetTop)};return x(B,s=>{g.value&&(s.length&&n.value?A():C())}),x(z,s=>{if(s){let f=V.value.querySelectorAll("[data-selected]")[0];if(!f)return;let Q=f.parentElement.parentElement;De(()=>{Q.scrollTop>0||(Q.scrollTop=f.offsetTop)})}}),{pointer:b,canPointGroups:U,isPointed:P,setPointerFirst:A,selectPointer:j,forwardPointer:ie,backwardPointer:Oe}}function Vl(e,i,a){const{disabled:r}=X(e),n=Pe().proxy,g=H(!1);return{isOpen:g,open:()=>{g.value||r.value||(g.value=!0,i.emit("open",n))},close:()=>{g.value&&(g.value=!1,i.emit("close",n))}}}function Gl(e,i,a){const{searchable:r,disabled:n,clearOnBlur:g}=X(e),t=a.input,v=a.open,q=a.close,m=a.clearSearch,c=a.isOpen,y=H(null),I=H(null),S=H(null),w=H(!1),R=H(!1),B=h(()=>r.value||n.value?-1:0),b=()=>{r.value&&t.value.blur(),I.value.blur()},o=()=>{r.value&&!n.value&&t.value.focus()},C=(M=!0)=>{n.value||(w.value=!0,M&&v())},V=()=>{w.value=!1,setTimeout(()=>{w.value||(q(),g.value&&m())},1)};return{multiselect:y,wrapper:I,tags:S,tabindex:B,isActive:w,mouseClicked:R,blur:b,focus:o,activate:C,deactivate:V,handleFocusIn:M=>{M.target.closest("[data-tags]")&&M.target.nodeName!=="INPUT"||M.target.closest("[data-clear]")||C(R.value)},handleFocusOut:()=>{V()},handleCaretClick:()=>{V(),b()},handleMousedown:M=>{R.value=!0,c.value&&(M.target.isEqualNode(I.value)||M.target.isEqualNode(S.value))?setTimeout(()=>{V()},0):document.activeElement.isEqualNode(I.value)&&!c.value&&C(),setTimeout(()=>{R.value=!1},0)}}}function Nl(e,i,a){const{mode:r,addTagOn:n,openDirection:g,searchable:t,showOptions:v,valueProp:q,groups:m,addOptionOn:c,createTag:y,createOption:I,reverse:S}=X(e),w=Pe().proxy,R=a.iv,B=a.update,b=a.search,o=a.setPointer,C=a.selectPointer,V=a.backwardPointer,z=a.forwardPointer,p=a.multiselect,F=a.wrapper,U=a.tags,M=a.isOpen,J=a.open,$=a.blur,d=a.fo,L=h(()=>y.value||I.value||!1),_=h(()=>n.value!==void 0?n.value:c.value!==void 0?c.value:["enter"]),ne=()=>{r.value==="tags"&&!v.value&&L.value&&t.value&&!m.value&&o(d.value[d.value.map(P=>P[q.value]).indexOf(b.value)])},ye=P=>{let A=P.length-1;for(;A>=0&&(P[A].remove===!1||P[A].disabled);)A--;return A<0||P.splice(A,1),P};return{handleKeydown:P=>{i.emit("keydown",P,w);let A,j;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(P.key)!==-1&&r.value==="tags"&&(A=[...p.value.querySelectorAll("[data-tags] > *")].filter(ie=>ie!==U.value),j=A.findIndex(ie=>ie===document.activeElement)),P.key){case"Backspace":if(r.value==="single"||t.value&&[null,""].indexOf(b.value)===-1||R.value.length===0)return;B(ye([...R.value]));break;case"Enter":if(P.preventDefault(),P.keyCode===229)return;if(j!==-1&&j!==void 0){B([...R.value].filter((ie,Oe)=>Oe!==j)),j===A.length-1&&(A.length-1?A[A.length-2].focus():t.value?U.value.querySelector("input").focus():F.value.focus());return}if(_.value.indexOf("enter")===-1&&L.value)return;ne(),C();break;case" ":if(!L.value&&!t.value){P.preventDefault(),ne(),C();return}if(!L.value)return!1;if(_.value.indexOf("space")===-1&&L.value)return;P.preventDefault(),ne(),C();break;case"Tab":case";":case",":if(_.value.indexOf(P.key.toLowerCase())===-1||!L.value)return;ne(),C(),P.preventDefault();break;case"Escape":$();break;case"ArrowUp":if(P.preventDefault(),!v.value)return;M.value||J(),V();break;case"ArrowDown":if(P.preventDefault(),!v.value)return;M.value||J(),z();break;case"ArrowLeft":if(t.value&&U.value&&U.value.querySelector("input").selectionStart||P.shiftKey||r.value!=="tags"||!R.value||!R.value.length)return;P.preventDefault(),j===-1?A[A.length-1].focus():j>0&&A[j-1].focus();break;case"ArrowRight":if(j===-1||P.shiftKey||r.value!=="tags"||!R.value||!R.value.length)return;P.preventDefault(),A.length>j+1?A[j+1].focus():t.value?U.value.querySelector("input").focus():t.value||F.value.focus();break}},handleKeyup:P=>{i.emit("keyup",P,w)},preparePointer:ne}}function Kl(e,i,a){const{classes:r,disabled:n,openDirection:g,showOptions:t}=X(e),v=a.isOpen,q=a.isPointed,m=a.isSelected,c=a.isDisabled,y=a.isActive,I=a.canPointGroups,S=a.resolving,w=a.fo,R=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...r.value})),B=h(()=>!!(v.value&&t.value&&(!S.value||S.value&&w.value.length)));return{classList:h(()=>{const o=R.value;return{container:[o.container].concat(n.value?o.containerDisabled:[]).concat(B.value&&g.value==="top"?o.containerOpenTop:[]).concat(B.value&&g.value!=="top"?o.containerOpen:[]).concat(y.value?o.containerActive:[]),wrapper:o.wrapper,spacer:o.spacer,singleLabel:o.singleLabel,singleLabelText:o.singleLabelText,multipleLabel:o.multipleLabel,search:o.search,tags:o.tags,tag:[o.tag].concat(n.value?o.tagDisabled:[]),tagDisabled:o.tagDisabled,tagRemove:o.tagRemove,tagRemoveIcon:o.tagRemoveIcon,tagsSearchWrapper:o.tagsSearchWrapper,tagsSearch:o.tagsSearch,tagsSearchCopy:o.tagsSearchCopy,placeholder:o.placeholder,caret:[o.caret].concat(v.value?o.caretOpen:[]),clear:o.clear,clearIcon:o.clearIcon,spinner:o.spinner,inifinite:o.inifinite,inifiniteSpinner:o.inifiniteSpinner,dropdown:[o.dropdown].concat(g.value==="top"?o.dropdownTop:[]).concat(!v.value||!t.value||!B.value?o.dropdownHidden:[]),options:[o.options].concat(g.value==="top"?o.optionsTop:[]),group:o.group,groupLabel:C=>{let V=[o.groupLabel];return q(C)?V.push(m(C)?o.groupLabelSelectedPointed:o.groupLabelPointed):m(C)&&I.value?V.push(c(C)?o.groupLabelSelectedDisabled:o.groupLabelSelected):c(C)&&V.push(o.groupLabelDisabled),I.value&&V.push(o.groupLabelPointable),V},groupOptions:o.groupOptions,option:(C,V)=>{let z=[o.option];return q(C)?z.push(m(C)?o.optionSelectedPointed:o.optionPointed):m(C)?z.push(c(C)?o.optionSelectedDisabled:o.optionSelected):(c(C)||V&&c(V))&&z.push(o.optionDisabled),z},noOptions:o.noOptions,noResults:o.noResults,assist:o.assist,fakeInput:o.fakeInput}}),showDropdown:B}}function Fl(e,i,a){const{limit:r,infinite:n}=X(e),g=a.isOpen,t=a.offset,v=a.search,q=a.pfo,m=a.eo,c=H(null),y=H(null),I=h(()=>t.value<q.value.length),S=R=>{const{isIntersecting:B,target:b}=R[0];if(B){const o=b.offsetParent,C=o.scrollTop;t.value+=r.value==-1?10:r.value,De(()=>{o.scrollTop=C})}},w=()=>{g.value&&t.value<q.value.length?c.value.observe(y.value):!g.value&&c.value&&c.value.disconnect()};return x(g,()=>{n.value&&w()}),x(v,()=>{n.value&&(t.value=r.value,w())},{flush:"post"}),x(m,()=>{n.value&&w()},{immediate:!1,flush:"post"}),tl(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(S))}),{hasMore:I,infiniteLoader:y}}function Hl(e,i,a){const{placeholder:r,id:n,valueProp:g,label:t,mode:v,groupLabel:q,aria:m,searchable:c}=X(e),y=a.pointer,I=a.iv,S=a.hasSelected,w=a.multipleLabelText,R=H(null),B=h(()=>{let d=[];return n&&n.value&&d.push(n.value),d.push("assist"),d.join("-")}),b=h(()=>{let d=[];return n&&n.value&&d.push(n.value),d.push("multiselect-options"),d.join("-")}),o=h(()=>{let d=[];if(n&&n.value&&d.push(n.value),y.value)return d.push(y.value.group?"multiselect-group":"multiselect-option"),d.push(y.value.group?y.value.index:y.value[g.value]),d.join("-")}),C=h(()=>r.value),V=h(()=>v.value!=="single"),z=h(()=>{let d="";return v.value==="single"&&S.value&&(d+=I.value[t.value]),v.value==="multiple"&&S.value&&(d+=w.value),v.value==="tags"&&S.value&&(d+=I.value.map(L=>L[t.value]).join(", ")),d}),p=h(()=>{let d={...m.value};return c.value&&(d["aria-labelledby"]=d["aria-labelledby"]?`${B.value} ${d["aria-labelledby"]}`:B.value,z.value&&d["aria-label"]&&(d["aria-label"]=`${z.value}, ${d["aria-label"]}`)),d}),F=d=>{let L=[];return n&&n.value&&L.push(n.value),L.push("multiselect-option"),L.push(d[g.value]),L.join("-")},U=d=>{let L=[];return n&&n.value&&L.push(n.value),L.push("multiselect-group"),L.push(d.index),L.join("-")},M=d=>{let L=[];return L.push(d),L.join(" ")},J=d=>{let L=[];return L.push(d),L.join(" ")},$=d=>`${d} ❎`;return tl(()=>{if(n&&n.value&&document&&document.querySelector){let d=document.querySelector(`[for="${n.value}"]`);R.value=d?d.innerText:null}}),{arias:p,ariaLabel:z,ariaAssist:B,ariaControls:b,ariaPlaceholder:C,ariaMultiselectable:V,ariaActiveDescendant:o,ariaOptionId:F,ariaOptionLabel:M,ariaGroupId:U,ariaGroupLabel:J,ariaTagLabel:$}}function zl(e,i,a){const{locale:r,fallbackLocale:n}=X(e);return{localize:t=>!t||typeof t!="object"?t:t&&t[r.value]?t[r.value]:t&&r.value&&t[r.value.toUpperCase()]?t[r.value.toUpperCase()]:t&&t[n.value]?t[n.value]:t&&n.value&&t[n.value.toUpperCase()]?t[n.value.toUpperCase()]:t&&Object.keys(t)[0]?t[Object.keys(t)[0]]:""}}function Ul(e,i,a,r={}){return a.forEach(n=>{n&&(r={...r,...n(e,i,r)})}),r}var Ae={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,i){return Ul(e,i,[zl,Il,Dl,Vl,Bl,Cl,Gl,jl,Fl,Ml,Nl,Kl,Hl])}};const Wl=["id","dir"],Yl=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Zl=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Jl=["onKeyup","aria-label"],Ql=["onClick"],Xl=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],$l=["innerHTML"],_l=["id"],xl=["id","aria-label","aria-selected"],ea=["data-pointed","onMouseenter","onClick"],la=["innerHTML"],aa=["aria-label"],ta=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],na=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],sa=["innerHTML"],ua=["innerHTML"],ra=["value"],ia=["name","value"],oa=["name","value"],ca=["id"];function da(e,i,a,r,n,g){return G(),N("div",{ref:"multiselect",class:E(e.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:i[10]||(i[10]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:i[11]||(i[11]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeyup:i[12]||(i[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onKeydown:i[13]||(i[13]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[D("div",ze({class:e.classList.wrapper,onMousedown:i[9]||(i[9]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":a.searchable?void 0:e.ariaControls,"aria-placeholder":a.searchable?void 0:e.ariaPlaceholder,"aria-expanded":a.searchable?void 0:e.isOpen,"aria-activedescendant":a.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:e.ariaMultiselectable,role:a.searchable?void 0:"combobox"},a.searchable?{}:e.arias),[k(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(G(),N("input",ze({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:i[0]||(i[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[1]||(i[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[2]||(i[2]=Be((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,Zl)):k("v-if",!0),k(" Tags (with search) "),a.mode=="tags"?(G(),N("div",{key:1,class:E(e.classList.tags),"data-tags":""},[(G(!0),N(be,null,we(e.iv,(t,v,q)=>Z(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(G(),N("span",{class:E([e.classList.tag,t.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:el(m=>e.handleTagRemove(t,m),["enter"]),key:q,"aria-label":e.ariaTagLabel(e.localize(t[a.label]))},[Tl(de(e.localize(t[a.label]))+" ",1),!a.disabled&&!t.disabled?(G(),N("span",{key:0,class:E(e.classList.tagRemove),onClick:Be(m=>e.handleTagRemove(t,m),["stop"])},[D("span",{class:E(e.classList.tagRemoveIcon)},null,2)],10,Ql)):k("v-if",!0)],42,Jl))])),256)),D("div",{class:E(e.classList.tagsSearchWrapper),ref:"tags"},[k(" Used for measuring search width "),D("span",{class:E(e.classList.tagsSearchCopy)},de(e.search),3),k(" Actual search input "),a.searchable&&!a.disabled?(G(),N("input",ze({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:i[3]||(i[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[4]||(i[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[5]||(i[5]=Be((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,Xl)):k("v-if",!0)],2)],2)):k("v-if",!0),k(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?Z(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[D("div",{class:E(e.classList.singleLabel)},[D("span",{class:E(e.classList.singleLabelText)},de(e.localize(e.iv[a.label])),3)],2)]):k("v-if",!0),k(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?Z(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[D("div",{class:E(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,$l)]):k("v-if",!0),k(" Placeholder "),a.placeholder&&!e.hasSelected&&!e.search?Z(e.$slots,"placeholder",{key:4},()=>[D("div",{class:E(e.classList.placeholder),"aria-hidden":"true"},de(a.placeholder),3)]):k("v-if",!0),k(" Spinner "),a.loading||e.resolving?Z(e.$slots,"spinner",{key:5},()=>[D("span",{class:E(e.classList.spinner),"aria-hidden":"true"},null,2)]):k("v-if",!0),k(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?Z(e.$slots,"clear",{key:6,clear:e.clear},()=>[D("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:E(e.classList.clear),onClick:i[6]||(i[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:i[7]||(i[7]=el((...t)=>e.clear&&e.clear(...t),["enter"]))},[D("span",{class:E(e.classList.clearIcon)},null,2)],34)]):k("v-if",!0),k(" Caret "),a.caret&&a.showOptions?Z(e.$slots,"caret",{key:7},()=>[D("span",{class:E(e.classList.caret),onClick:i[8]||(i[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)]):k("v-if",!0)],16,Yl),k(" Options "),D("div",{class:E(e.classList.dropdown),tabindex:"-1"},[Z(e.$slots,"beforelist",{options:e.fo}),D("ul",{class:E(e.classList.options),id:e.ariaControls,role:"listbox"},[a.groups?(G(!0),N(be,{key:0},we(e.fg,(t,v,q)=>(G(),N("li",{class:E(e.classList.group),key:q,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),"aria-selected":e.isSelected(t),role:"option"},[t.__CREATE__?k("v-if",!0):(G(),N("div",{key:0,class:E(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:m=>e.setPointer(t,v),onClick:m=>e.handleGroupClick(t)},[Z(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[D("span",{innerHTML:e.localize(t[a.groupLabel])},null,8,la)])],42,ea)),D("ul",{class:E(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),role:"group"},[(G(!0),N(be,null,we(t.__VISIBLE__,(m,c,y)=>(G(),N("li",{class:E(e.classList.option(m,t)),"data-pointed":e.isPointed(m),"data-selected":e.isSelected(m)||void 0,key:y,onMouseenter:I=>e.setPointer(m),onClick:I=>e.handleOptionClick(m),id:e.ariaOptionId(m),"aria-selected":e.isSelected(m),"aria-label":e.ariaOptionLabel(e.localize(m[a.label])),role:"option"},[Z(e.$slots,"option",{option:m,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[D("span",null,de(e.localize(m[a.label])),1)])],42,ta))),128))],10,aa)],10,xl))),128)):(G(!0),N(be,{key:1},we(e.fo,(t,v,q)=>(G(),N("li",{class:E(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:q,onMouseenter:m=>e.setPointer(t),onClick:m=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(e.localize(t[a.label])),role:"option"},[Z(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[D("span",null,de(e.localize(t[a.label])),1)])],42,na))),128))],10,_l),e.noOptions?Z(e.$slots,"nooptions",{key:0},()=>[D("div",{class:E(e.classList.noOptions),innerHTML:e.localize(a.noOptionsText)},null,10,sa)]):k("v-if",!0),e.noResults?Z(e.$slots,"noresults",{key:1},()=>[D("div",{class:E(e.classList.noResults),innerHTML:e.localize(a.noResultsText)},null,10,ua)]):k("v-if",!0),a.infinite&&e.hasMore?(G(),N("div",{key:2,class:E(e.classList.inifinite),ref:"infiniteLoader"},[Z(e.$slots,"infinite",{},()=>[D("span",{class:E(e.classList.inifiniteSpinner)},null,2)])],2)):k("v-if",!0),Z(e.$slots,"afterlist",{options:e.fo})],2),k(" Hacky input element to show HTML5 required warning "),a.required?(G(),N("input",{key:0,class:E(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,ra)):k("v-if",!0),k(" Native input support "),a.nativeSupport?(G(),N(be,{key:1},[a.mode=="single"?(G(),N("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,ia)):(G(!0),N(be,{key:1},we(e.plainValue,(t,v)=>(G(),N("input",{type:"hidden",name:`${a.name}[]`,value:t,key:v},null,8,oa))),128))],64)):k("v-if",!0),k(" Screen reader assistive text "),a.searchable&&e.hasSelected?(G(),N("div",{key:2,class:E(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},de(e.ariaLabel),11,ca)):k("v-if",!0),k(" Create height for empty input "),D("div",{class:E(e.classList.spacer)},null,2)],42,Wl)}Ae.render=da;Ae.__file="src/Multiselect.vue";const va={class:"row g-3"},fa={class:"col-md-6"},pa={class:"col-md-6"},ha={class:"col-12"},La={__name:"SettingForm",props:{data:{type:Object,default:()=>({})},cost_center_list:{type:Object},station_list:{type:Object}},setup(e){const i=e,a="users.settings",r=ql({cost_center_ids:i.data.cost_center_ids??[],remote_door_ids:i.data.remote_door_ids??[]});return(n,g)=>(G(),N("form",{onSubmit:g[2]||(g[2]=Be(t=>ae(r).patch(n.route(a+".update",e.data.id)),["prevent"]))},[D("div",va,[D("div",fa,[ve(al,{for:"cost-center",value:"Select Cost Centers"}),ve(ae(Ae),{modelValue:ae(r).cost_center_ids,"onUpdate:modelValue":g[0]||(g[0]=t=>ae(r).cost_center_ids=t),mode:"tags","close-on-select":!1,searchable:!0,"create-option":!0,options:i.cost_center_list},null,8,["modelValue","options"]),ve(ll,{message:ae(r).errors.cost_center_ids},null,8,["message"])]),D("div",pa,[ve(al,{for:"cost-center",value:"Remote Door Control"}),ve(ae(Ae),{modelValue:ae(r).remote_door_ids,"onUpdate:modelValue":g[1]||(g[1]=t=>ae(r).remote_door_ids=t),mode:"tags","close-on-select":!1,searchable:!0,"create-option":!0,options:i.station_list},null,8,["modelValue","options"]),ve(ll,{message:ae(r).errors.remote_door_ids},null,8,["message"])]),D("div",ha,[ve(El,{type:"submit",innerHTML:e.data.id==null?"Create":"Save",disabled:ae(r).processing},null,8,["innerHTML","disabled"])])])],32))}};export{La as default};
