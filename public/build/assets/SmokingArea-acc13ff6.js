import{r as R,z as rt,H as it,l as fe,c as M,a as F,u as A,d as p,j as Q,b as $,t as x,w as N,F as q,h as Z,o as k,X as ot,i as he}from"./app-2ba7b198.js";import{H as pe}from"./HeadRow-41228e2e.js";import{u as st,S as ge,a as Oe}from"./vue-timer-hook.esm-bundler-7d8559f5.js";import"./_plugin-vue_export-helper-c27b6911.js";/*!
 * Splide.js
 * Version  : 0.8.0
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */function at(n){n.length=0}function Pe(n,e,t){return Array.prototype.slice.call(n,e,t)}function ae(n){return n.bind.apply(n,[null].concat(Pe(arguments,1)))}function Te(n,e){return typeof e===n}var je=Array.isArray;ae(Te,"function");ae(Te,"string");ae(Te,"undefined");function ke(n){return je(n)?n:[n]}function De(n,e){ke(n).forEach(e)}function ut(n,e){return n.indexOf(e)>-1}var lt=Object.keys;function ct(n,e,t){if(n){var r=lt(n);r=t?r.reverse():r;for(var i=0;i<r.length;i++){var o=r[i];if(o!=="__proto__"&&e(n[o],o)===!1)break}}return n}function dt(n){return Pe(arguments,1).forEach(function(e){ct(e,function(t,r){n[r]=e[r]})}),n}var ft="splide";function ht(){var n=[];function e(s,c,m,a){i(s,c,function(y,_,g){var C="addEventListener"in y,S=C?y.removeEventListener.bind(y,_,m,a):y.removeListener.bind(y,m);C?y.addEventListener(_,m,a):y.addListener(m),n.push([y,_,g,m,S])})}function t(s,c,m){i(s,c,function(a,y,_){n=n.filter(function(g){return g[0]===a&&g[1]===y&&g[2]===_&&(!m||g[3]===m)?(g[4](),!1):!0})})}function r(s,c,m){var a,y=!0;return typeof CustomEvent=="function"?a=new CustomEvent(c,{bubbles:y,detail:m}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(c,y,!1,m)),s.dispatchEvent(a),a}function i(s,c,m){De(s,function(a){a&&De(c,function(y){y.split(" ").forEach(function(_){var g=_.split(".");m(a,g[0],g[1])})})})}function o(){n.forEach(function(s){s[4]()}),at(n)}return{bind:e,unbind:t,dispatch:r,destroy:o}}var pt="mounted",gt="move",vt="moved",mt="drag",ve="dragging",yt="scroll",_t="scrolled",bt="destroy";function ue(n){var e=n?n.event.bus:document.createDocumentFragment(),t=ht();function r(o,s){t.bind(e,ke(o).join(" "),function(c){s.apply(s,je(c.detail)?c.detail:[])})}function i(o){t.dispatch(e,o,Pe(arguments,1))}return n&&n.event.on(bt,t.destroy),dt(t,{bus:e,on:r,off:ae(t.unbind,e),emit:i})}function Et(n){var e=n;function t(i){e=i}function r(i){return ut(ke(i),e)}return{set:t,is:r}}var te=ft+"__slide",me=te+"__container";function G(n,e,t){return Array.prototype.slice.call(n,e,t)}function wt(n,e){return G(n).filter(e)[0]}function Ce(n){return n.bind(null,...G(arguments,1))}function le(n,e){return typeof e===n}function be(n){return!Ae(n)&&le("object",n)}const He=Array.isArray,Pt=Ce(le,"function"),ze=Ce(le,"string"),Ge=Ce(le,"undefined");function Ae(n){return n===null}function Tt(n){return n instanceof HTMLElement}function kt(n){return He(n)?n:[n]}function H(n,e){kt(n).forEach(e)}function ne(n,e,t){n&&H(e,r=>{r&&n.classList[t?"add":"remove"](r)})}function re(n,e){ne(n,ze(e)?e.split(" "):e,!0)}function Ct(n,e){H(e,n.appendChild.bind(n))}function At(n,e){return Tt(n)&&(n.msMatchesSelector||n.matches).call(n,e)}function xt(n,e){const t=n?G(n.children):[];return e?t.filter(r=>At(r,e)):t}function It(n,e){return e?xt(n,e)[0]:n.firstElementChild}const St=Object.keys;function W(n,e,t){if(n){let r=St(n);r=t?r.reverse():r;for(let i=0;i<r.length;i++){const o=r[i];if(o!=="__proto__"&&e(n[o],o)===!1)break}}return n}function xe(n){return G(arguments,1).forEach(e=>{W(e,(t,r)=>{n[r]=e[r]})}),n}function Ee(n){return G(arguments,1).forEach(e=>{W(e,(t,r)=>{He(t)?n[r]=t.slice():be(t)?n[r]=Ee({},be(n[r])?n[r]:{},t):n[r]=t})}),n}function Vt(n,e){H(n,t=>{H(e,r=>{t&&t.removeAttribute(r)})})}function Qe(n,e,t){be(e)?W(e,(r,i)=>{Qe(n,i,r)}):H(n,r=>{Ae(t)||t===""?Vt(r,e):r.setAttribute(e,String(t))})}function U(n,e,t){const r=document.createElement(n);return e&&(ze(e)?re(r,e):Qe(r,e)),t&&Ct(t,r),r}function Mt(n,e,t){if(Ge(t))return getComputedStyle(n)[e];Ae(t)||(n.style[e]=`${t}`)}function Re(n,e){Mt(n,"display",e)}function Nt(n,e){return n.getAttribute(e)}function Ot(n,e){return n&&n.classList.contains(e)}function Dt(n){H(n,e=>{e&&e.parentNode&&e.parentNode.removeChild(e)})}function Rt(n,e){return e?G(n.querySelectorAll(e)):[]}function Le(n,e){ne(n,e,!1)}const Lt="splide";function Ft(n){console.error(`[${Lt}] ${n}`)}const{min:Fe,max:$e,floor:ar,ceil:ur,abs:lr}=Math;function Ie(n,e,t){const r=Fe(e,t),i=$e(e,t);return Fe($e(r,n),i)}const Se="splide__video",$t=`${Se}__wrapper`,qt=`${Se}__play`,Bt="is-playing",Yt="is-error",Ut="is-video-disabled",K="--has-video",Wt="data-splide-youtube",jt="data-splide-vimeo",Ht="data-splide-html-video",zt={hideControls:!1,loop:!1,mute:!1,volume:.2},Gt="video:play",Qt="video:pause",Jt="video:ended",Xt="video:error",qe="video:click",Kt=1,we=2,ce=3,Y=4,L=5,Be=6,ie=7,ee=8,ye=9;class Ve{constructor(e,t,r){this.state=Et(Kt),this.event=ue(),this.target=e,this.videoId=t,this.options=r||{},this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onError=this.onError.bind(this)}on(e,t){this.event.on(e,t)}play(){const{state:e}=this;if(e.is(ye)){Ft("Can not play this video.");return}if(this.event.emit("play"),e.is(we))return e.set(Y);if(e.is(ce))return this.player=this.createPlayer(this.videoId),e.set(Y);e.is([Y,ee])||e.is(L)&&(e.set(Be),this.playVideo())}pause(){const{state:e}=this;if(!e.is(ye)){if(this.event.emit("pause"),e.is(Y))return e.set(we);if(e.is(Be))return e.set(ie);e.is(ee)&&(this.pauseVideo(),this.state.set(L))}}isPaused(){return!this.state.is(ee)}destroy(){this.event.destroy()}onPlayerReady(){const{state:e}=this,t=e.is(Y);e.set(L),t&&this.play()}onPlay(){const{state:e}=this,t=e.is(ie);e.set(ee),t?this.pause():this.event.emit("played")}onPause(){this.state.set(L),this.event.emit("paused")}onEnded(){this.state.set(L),this.event.emit("ended")}onError(){this.state.set(ye),this.event.emit("error")}}class Zt extends Ve{constructor(e,t,r={}){super(e,t,r),this.state.set(ce)}createPlayer(e){const{options:t,options:{playerOptions:r={}}}=this,i=U("video",{src:e},this.target),o=i.addEventListener.bind(i);return xe(i,{controls:!t.hideControls,loop:t.loop,volume:Ie(t.volume,0,1),muted:t.mute},r.htmlVideo||{}),o("play",this.onPlay),o("pause",this.onPause),o("ended",this.onEnded),o("loadeddata",this.onPlayerReady),o("error",this.onError),i}playVideo(){const e=this.player.play();e&&e.catch(this.onError.bind(this))}pauseVideo(){this.player.pause()}onError(){this.state.is(ie)?this.state.set(L):super.onError()}destroy(){super.destroy();const{player:e}=this,t=e.addEventListener.bind(e);t("play",this.onPlay),t("pause",this.onPause),t("ended",this.onEnded),t("loadeddata",this.onPlayerReady)}}/*! @vimeo/player v2.17.1 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */function en(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ye(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tn(n,e,t){return e&&Ye(n.prototype,e),t&&Ye(n,t),n}var Je=typeof global<"u"&&{}.toString.call(global)==="[object global]";function Ue(n,e){return n.indexOf(e.toLowerCase())===0?n:"".concat(e.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function nn(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function rn(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function z(n){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(n)}function on(n){var e=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return e.test(n)}function Xe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.id,t=n.url,r=e||t;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(rn(r))return"https://vimeo.com/".concat(r);if(z(r))return r.replace("http:","https:");throw e?new TypeError("“".concat(e,"” is not a valid video id.")):new TypeError("“".concat(r,"” is not a vimeo.com url."))}var sn=typeof Array.prototype.indexOf<"u",an=typeof window<"u"&&typeof window.postMessage<"u";if(!Je&&(!sn||!an))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(n,e){return e={exports:{}},n(e,e.exports),e.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(n){if(n.WeakMap)return;var e=Object.prototype.hasOwnProperty,t=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(o,s,c){t?Object.defineProperty(o,s,{configurable:!0,writable:!0,value:c}):o[s]=c};n.WeakMap=function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",c("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(a){if(s(this,"delete"),!i(a))return!1;var y=a[this._id];return y&&y[0]===a?(delete a[this._id],!0):!1}),r(o.prototype,"get",function(a){if(s(this,"get"),!!i(a)){var y=a[this._id];if(y&&y[0]===a)return y[1]}}),r(o.prototype,"has",function(a){if(s(this,"has"),!i(a))return!1;var y=a[this._id];return!!(y&&y[0]===a)}),r(o.prototype,"set",function(a,y){if(s(this,"set"),!i(a))throw new TypeError("Invalid value used as weak map key");var _=a[this._id];return _&&_[0]===a?(_[1]=y,this):(r(a,this._id,[a,y]),this)});function s(a,y){if(!i(a)||!e.call(a,"_id"))throw new TypeError(y+" method called on incompatible receiver "+typeof a)}function c(a){return a+"_"+m()+"."+m()}function m(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o}();function i(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:j);var O=un(function(n){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(t,r,i){r[t]=r[t]||i(),n.exports&&(n.exports=r[t])})("Promise",j,function(){var t,r,i,o=Object.prototype.toString,s=typeof setImmediate<"u"?function(u){return setImmediate(u)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(u,d,l,h){return Object.defineProperty(u,d,{value:l,writable:!0,configurable:h!==!1})}}catch{t=function(d,l,h){return d[l]=h,d}}i=function(){var u,d,l;function h(f,b){this.fn=f,this.self=b,this.next=void 0}return{add:function(b,P){l=new h(b,P),d?d.next=l:u=l,d=l,l=void 0},drain:function(){var b=u;for(u=d=r=void 0;b;)b.fn.call(b.self),b=b.next}}}();function c(v,u){i.add(v,u),r||(r=s(i.drain))}function m(v){var u,d=typeof v;return v!=null&&(d=="object"||d=="function")&&(u=v.then),typeof u=="function"?u:!1}function a(){for(var v=0;v<this.chain.length;v++)y(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function y(v,u,d){var l,h;try{u===!1?d.reject(v.msg):(u===!0?l=v.msg:l=u.call(void 0,v.msg),l===d.promise?d.reject(TypeError("Promise-chain cycle")):(h=m(l))?h.call(l,d.resolve,d.reject):d.resolve(l))}catch(f){d.reject(f)}}function _(v){var u,d=this;if(!d.triggered){d.triggered=!0,d.def&&(d=d.def);try{(u=m(v))?c(function(){var l=new S(d);try{u.call(v,function(){_.apply(l,arguments)},function(){g.apply(l,arguments)})}catch(h){g.call(l,h)}}):(d.msg=v,d.state=1,d.chain.length>0&&c(a,d))}catch(l){g.call(new S(d),l)}}}function g(v){var u=this;u.triggered||(u.triggered=!0,u.def&&(u=u.def),u.msg=v,u.state=2,u.chain.length>0&&c(a,u))}function C(v,u,d,l){for(var h=0;h<u.length;h++)(function(b){v.resolve(u[b]).then(function(T){d(b,T)},l)})(h)}function S(v){this.def=v,this.triggered=!1}function D(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var u=new D(this);this.then=function(l,h){var f={success:typeof l=="function"?l:!0,failure:typeof h=="function"?h:!1};return f.promise=new this.constructor(function(P,T){if(typeof P!="function"||typeof T!="function")throw TypeError("Not a function");f.resolve=P,f.reject=T}),u.chain.push(f),u.state!==0&&c(a,u),f.promise},this.catch=function(l){return this.then(void 0,l)};try{v.call(void 0,function(l){_.call(u,l)},function(l){g.call(u,l)})}catch(d){g.call(u,d)}}var V=t({},"constructor",w,!1);return w.prototype=V,t(V,"__NPO__",0,!1),t(w,"resolve",function(u){var d=this;return u&&typeof u=="object"&&u.__NPO__===1?u:new d(function(h,f){if(typeof h!="function"||typeof f!="function")throw TypeError("Not a function");h(u)})}),t(w,"reject",function(u){return new this(function(l,h){if(typeof l!="function"||typeof h!="function")throw TypeError("Not a function");h(u)})}),t(w,"all",function(u){var d=this;return o.call(u)!="[object Array]"?d.reject(TypeError("Not an array")):u.length===0?d.resolve([]):new d(function(h,f){if(typeof h!="function"||typeof f!="function")throw TypeError("Not a function");var b=u.length,P=Array(b),T=0;C(d,u,function(tt,nt){P[tt]=nt,++T===b&&h(P)},f)})}),t(w,"race",function(u){var d=this;return o.call(u)!="[object Array]"?d.reject(TypeError("Not an array")):new d(function(h,f){if(typeof h!="function"||typeof f!="function")throw TypeError("Not a function");C(d,u,function(P,T){h(T)},f)})}),w})}),I=new WeakMap;function J(n,e,t){var r=I.get(n.element)||{};e in r||(r[e]=[]),r[e].push(t),I.set(n.element,r)}function oe(n,e){var t=I.get(n.element)||{};return t[e]||[]}function se(n,e,t){var r=I.get(n.element)||{};if(!r[e])return!0;if(!t)return r[e]=[],I.set(n.element,r),!0;var i=r[e].indexOf(t);return i!==-1&&r[e].splice(i,1),I.set(n.element,r),r[e]&&r[e].length===0}function ln(n,e){var t=oe(n,e);if(t.length<1)return!1;var r=t.shift();return se(n,e,r),r}function cn(n,e){var t=I.get(n);I.set(e,t),I.delete(n)}function Me(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(e){return console.warn(e),{}}return n}function X(n,e,t){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var r={method:e};t!==void 0&&(r.value=t);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),n.element.contentWindow.postMessage(r,n.origin)}}function dn(n,e){e=Me(e);var t=[],r;if(e.event){if(e.event==="error"){var i=oe(n,e.data.method);i.forEach(function(s){var c=new Error(e.data.message);c.name=e.data.name,s.reject(c),se(n,e.data.method,s)})}t=oe(n,"event:".concat(e.event)),r=e.data}else if(e.method){var o=ln(n,e.method);o&&(t.push(o),r=e.value)}t.forEach(function(s){try{if(typeof s=="function"){s.call(n,r);return}s.resolve(r)}catch{}})}var fn=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function Ke(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fn.reduce(function(t,r){var i=n.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(t[r]=i===""?1:i),t},e)}function Ne(n,e){var t=n.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=t,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function Ze(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!z(n))throw new TypeError("“".concat(n,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(n));for(var s in e)e.hasOwnProperty(s)&&(o+="&".concat(s,"=").concat(encodeURIComponent(e[s])));var c="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;c.open("GET",o,!0),c.onload=function(){if(c.status===404){i(new Error("“".concat(n,"” was not found.")));return}if(c.status===403){i(new Error("“".concat(n,"” is not embeddable.")));return}try{var m=JSON.parse(c.responseText);if(m.domain_status_code===403){Ne(m,t),i(new Error("“".concat(n,"” is not embeddable.")));return}r(m)}catch(a){i(a)}},c.onerror=function(){var m=c.status?" (".concat(c.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(m,".")))},c.send()})}function hn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),t=function(i){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(i))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=Ke(r),o=Xe(i);Ze(o,i,r).then(function(s){return Ne(s,r)}).catch(t)}catch(s){t(s)}})}function pn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(r){if(z(r.origin)&&!(!r.data||r.data.event!=="spacechange")){for(var i=n.querySelectorAll("iframe"),o=0;o<i.length;o++)if(i[o].contentWindow===r.source){var s=i[o].parentElement;s.style.paddingBottom="".concat(r.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function gn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(r){if(z(r.origin)){var i=Me(r.data);if(!(!i||i.event!=="ready"))for(var o=n.querySelectorAll("iframe"),s=0;s<o.length;s++){var c=o[s],m=c.contentWindow===r.source;if(on(c.src)&&m){var a=new et(c);a.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function vn(){var n=function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,s=i.length,c={};o<s;o++)if(r=i[o],r&&r[1]in document){for(o=0;o<r.length;o++)c[i[0][o]]=r[o];return c}return!1}(),e={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},t={request:function(i){return new Promise(function(o,s){var c=function a(){t.off("fullscreenchange",a),o()};t.on("fullscreenchange",c),i=i||document.documentElement;var m=i[n.requestFullscreen]();m instanceof Promise&&m.then(c).catch(s)})},exit:function(){return new Promise(function(i,o){if(!t.isFullscreen){i();return}var s=function m(){t.off("fullscreenchange",m),i()};t.on("fullscreenchange",s);var c=document[n.exitFullscreen]();c instanceof Promise&&c.then(s).catch(o)})},on:function(i,o){var s=e[i];s&&document.addEventListener(s,o)},off:function(i,o){var s=e[i];s&&document.removeEventListener(s,o)}};return Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),t}var B=new WeakMap,_e=new WeakMap,E={},et=function(){function n(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(en(this,n),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!nn(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var i=e.querySelector("iframe");i&&(e=i)}if(e.nodeName==="IFRAME"&&!z(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(B.has(e))return B.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var o=new O(function(c,m){if(t._onMessage=function(_){if(!(!z(_.origin)||t.element.contentWindow!==_.source)){t.origin==="*"&&(t.origin=_.origin);var g=Me(_.data),C=g&&g.event==="error",S=C&&g.data&&g.data.method==="ready";if(S){var D=new Error(g.data.message);D.name=g.data.name,m(D);return}var w=g&&g.event==="ready",V=g&&g.method==="ping";if(w||V){t.element.setAttribute("data-ready","true"),c();return}dn(t,g)}},t._window.addEventListener("message",t._onMessage),t.element.nodeName!=="IFRAME"){var a=Ke(e,r),y=Xe(a);Ze(y,a,e).then(function(_){var g=Ne(_,e);return t.element=g,t._originalElement=e,cn(e,g),B.set(t.element,t),_}).catch(m)}});if(_e.set(this,o),B.set(this.element,this),this.element.nodeName==="IFRAME"&&X(this,"ping"),E.isEnabled){var s=function(){return E.exit()};this.fullscreenchangeHandler=function(){E.isFullscreen?J(t,"event:exitFullscreen",s):se(t,"event:exitFullscreen",s),t.ready().then(function(){X(t,"fullscreenchange",E.isFullscreen)})},E.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return tn(n,[{key:"callMethod",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new O(function(o,s){return r.ready().then(function(){J(r,t,{resolve:o,reject:s}),X(r,t,i)}).catch(s)})}},{key:"get",value:function(t){var r=this;return new O(function(i,o){return t=Ue(t,"get"),r.ready().then(function(){J(r,t,{resolve:i,reject:o}),X(r,t)}).catch(o)})}},{key:"set",value:function(t,r){var i=this;return new O(function(o,s){if(t=Ue(t,"set"),r==null)throw new TypeError("There must be a value to set.");return i.ready().then(function(){J(i,t,{resolve:o,reject:s}),X(i,t,r)}).catch(s)})}},{key:"on",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var i=oe(this,"event:".concat(t));i.length===0&&this.callMethod("addEventListener",t).catch(function(){}),J(this,"event:".concat(t),r)}},{key:"off",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var i=se(this,"event:".concat(t),r);i&&this.callMethod("removeEventListener",t).catch(function(o){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=_e.get(this)||new O(function(r,i){i(new Error("Unknown player. Probably unloaded."))});return O.resolve(t)}},{key:"addCuePoint",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:r})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,r){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return E.isEnabled?E.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return E.isEnabled?E.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return E.isEnabled?O.resolve(E.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new O(function(r){if(_e.delete(t),B.delete(t.element),t._originalElement&&(B.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&t.element.nodeName==="IFRAME"&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&t.element.nodeName==="DIV"&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var i=t.element.querySelector("iframe");i&&i.parentNode&&(i.parentNode.parentNode&&t._originalElement&&t._originalElement!==i.parentNode?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))}t._window.removeEventListener("message",t._onMessage),E.isEnabled&&E.off("fullscreenchange",t.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),n}();Je||(E=vn(),hn(),pn(),gn());class mn extends Ve{constructor(e,t,r={}){super(e,t,r),this.state.set(ce)}createPlayer(e){const{options:t,options:{playerOptions:r={}}}=this,i=e.indexOf("http")===0?{url:e}:{id:+e},o=new et(this.target,xe(i,{controls:!t.hideControls,loop:t.loop,muted:t.mute},r.vimeo||{}));return o.on("play",this.onPlay),o.on("pause",this.onPause),o.on("ended",this.onEnded),o.ready().then(this.onPlayerReady,this.onError),o.getMuted()||o.setVolume(Ie(t.volume,0,1)),o}playVideo(){this.player.play().catch(()=>{this.state.is(ie)&&this.state.set(L)})}pauseVideo(){this.player.pause()}}const We="//www.youtube.com/player_api";class yn{load(e){if(window.YT&&Pt(window.YT.Player))return e();this.attachCallback(e),this.shouldLoad()&&U("script",{src:`${location.protocol}${We}`},document.head)}shouldLoad(){return!Rt(document,"script").some(e=>e.src.replace(/^https?:/,"")===We)}attachCallback(e){let t;Ge(window.onYouTubeIframeAPIReady)||(t=window.onYouTubeIframeAPIReady),window.onYouTubeIframeAPIReady=()=>{t&&t(),e()}}}class _n extends Ve{constructor(e,t,r={}){super(e,t,r),this.videoId=this.parseVideoId(t),this.videoId&&(this.state.set(we),new yn().load(this.onAPIReady.bind(this)))}onAPIReady(){const{state:e}=this,t=e.is(Y);e.set(ce),t&&this.play()}createPlayer(e){const{options:t,options:{playerOptions:r={}}}=this;return new YT.Player(this.target,{videoId:e,host:t.host,playerVars:xe({controls:t.hideControls?0:1,iv_load_policy:3,loop:t.loop?1:0,playlist:t.loop?e:void 0,rel:0,autoplay:0,mute:t.mute?1:0},r.youtube||{}),events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onError.bind(this)}})}onPlayerReady(){super.onPlayerReady(),this.player.setVolume(Ie(this.options.volume,0,1)*100)}onPlayerStateChange(e){const{PLAYING:t,PAUSED:r,ENDED:i}=YT.PlayerState;switch(!0){case e.data===t:this.onPlay();break;case e.data===r:this.onPause();break;case e.data===i:this.onEnded();break}}playVideo(){this.player.playVideo()}pauseVideo(){this.player.pauseVideo()}parseVideoId(e){return e.indexOf("http")===0?this.parseUrl(e):e}parseUrl(e){const[,t]=e.split(/[#?]/),r=wt(t.split("&"),i=>i.indexOf("v=")===0);return r&&r.replace("v=","")}}const bn={playVideo:"Play Video"};class En{constructor(e,t){this.event=ue(),this.Splide=e,this.slide=t,this.container=It(this.slide,`.${me}`),this.parent=this.container||this.slide,this.init(),this.create(),this.show(),this.listen()}init(){re(this.slide,`${te}${K}`),re(this.container,`${me}${K}`)}create(){this.video=U("div",Se,this.parent),this.playButton=U("button",{class:qt,type:"button","aria-label":this.Splide.options.i18n.playVideo||bn.playVideo},this.video),this.wrapper=U("div",$t,this.video),this.placeholder=U("div",null,this.wrapper)}listen(){this.parent.addEventListener("click",()=>{this.event.emit("click")})}toggleButton(e){Re(this.playButton,e?"":"none")}toggleWrapper(e){Re(this.wrapper,e?"":"none")}getPlaceholder(){return this.placeholder}hide(){this.toggleButton(!1),this.toggleWrapper(!0)}show(){this.disabled||this.toggleButton(!0),this.toggleWrapper(!1)}disable(e){this.disabled=e,e&&this.toggleButton(!1)}on(e,t){this.event.on(e,t)}destroy(){Le(this.slide,`${te}${K}`),Le(this.container,`${me}${K}`),Dt(this.video),this.event.destroy()}}const wn=[[Wt,_n],[jt,mn],[Ht,Zt]];class Pn{constructor(e,t){this.Splide=e,this.slide=t,this.event=ue(e),this.options=Ee(Ee({},zt),this.Splide.options.video),this.createPlayer(t),this.player&&this.listen()}createPlayer(e){wn.forEach(([t,r])=>{const i=Nt(e,t);i&&(this.ui=new En(this.Splide,e),this.player=new r(this.ui.getPlaceholder(),i,this.options),this.ui.disable(this.options.disableOverlayUI))})}listen(){const{player:e,event:t}=this;this.ui.on("click",this.onClick.bind(this)),e.on("play",this.onPlay.bind(this)),e.on("played",this.onPlayed.bind(this)),e.on("pause",this.onPause.bind(this)),e.on("paused",this.onPaused.bind(this)),e.on("ended",this.onEnded.bind(this)),e.on("error",this.onError.bind(this)),t.on([gt,yt],this.pause.bind(this)),t.on(qe,this.onVideoClick.bind(this)),t.on(mt,()=>{t.off(ve),t.on(ve,()=>{this.pause(),t.off(ve)})}),this.options.autoplay&&t.on([pt,vt,_t],this.onAutoplayRequested.bind(this))}onClick(){this.isPaused()?this.play():this.pause(),this.event.emit(qe,this)}onVideoClick(e){this!==e&&this.pause()}onPlay(){this.ui.hide()}onPlayed(){this.ui.hide(),this.togglePlaying(!0),this.event.emit(Gt,this)}onPause(){this.ui.show()}onPaused(){this.togglePlaying(!1),this.event.emit(Qt,this)}onEnded(){this.togglePlaying(!1),this.event.emit(Jt,this)}onError(){re(this.slide,Yt),this.ui.show(),this.event.emit(Xt,this)}onAutoplayRequested(){this.Splide.Components.Slides.getAt(this.Splide.index).slide===this.slide&&this.play()}togglePlaying(e){ne(this.Splide.root,Bt,e)}play(){this.player&&!this.disabled&&this.player.play()}pause(){this.player&&!this.disabled&&this.player.pause()}destroy(){this.player&&(this.ui.destroy(),this.player.destroy()),this.disable(!1)}disable(e){this.disabled=e,ne(this.Splide.root,Ut,e)}isPaused(){return this.player.isPaused()}}function Tn(n,e){const{on:t}=ue(n),{Slides:r}=e,i={};function o(){s(),t("refresh",s)}function s(){r.forEach(_=>{const{slide:g}=_;Ot(g,`${te}${K}`)||(i[_.index]=new Pn(n,g))}),r.update()}function c(){W(i,_=>{_.destroy()})}function m(_=n.index){const g=i[_];g&&g.play()}function a(){W(i,_=>{_.pause()})}function y(_){W(i,g=>{g.disable(_)})}return{mount:o,destroy:c,play:m,pause:a,disable:y}}const kn={class:"d-flex flex-column min-vh-100"},Cn={class:"flex-grow-1 p-2"},An={class:"row mb-3"},xn=p("div",{class:"col-lg-3 text-light"},[p("div",{class:"sensor-column schott-colour text-center rounded-3",style:{"min-height":"142.4px","max-height":"142.4px"}},[p("img",{src:"/assets/schott-logo.png",style:{height:"80px","margin-top":"2rem","margin-bottom":"2rem"},alt:"logo"})])],-1),In={class:"col-lg-3 text-light"},Sn=p("h2",null,"Pax",-1),Vn={class:"col-lg-3 text-light"},Mn=p("h2",null,"Air Index",-1),Nn={class:"col-lg-3 text-light"},On={class:"sensor-column text-center rounded-3 bg-success"},Dn=p("h2",null,"Temperature",-1),Rn={class:"row mb-3"},Ln={class:"col-lg-12"},Fn={class:"h-100 p-3 box-bg border rounded-3"},$n=["innerHTML"],qn={class:"row"},Bn={class:"col-lg-6"},Yn={class:"h-100 p-3 box-bg border rounded-3"},Un={class:"table table-bordered table-striped table-dark"},Wn={class:"schott-colour-dark text-light fs-3"},jn={class:"fs-3"},Hn={class:"col-lg-6"},zn=["src"],Gn=["src"],Qn={class:"d-flex flex-wrap justify-content-between align-items-center py-2 my-1 border-top"},Jn=p("div",{class:"col-md-4 d-flex align-items-center ms-2"},[p("img",{src:"/assets/bio-blue.png",style:{width:"15%"}}),p("span",{class:"mb-3 mb-md-0 text- body-secondary"},"© 2023 Bionergy Project")],-1),Xn={class:"nav col-md-4 justify-content-end list-unstyled d-flex me-2"},Kn={class:"modal fade",id:"msgModal",tabindex:"-1","aria-labelledby":"msgModalLabel","aria-hidden":"true"},Zn={class:"modal-dialog modal-dialog-centered modal-lg"},er={class:"modal-content"},tr={class:"modal-body"},nr={class:"fs-3"},cr={__name:"SmokingArea",props:{station_code:{type:String},warning_below_seconds:{type:Number},station_last_update:{type:String},max_pax:{type:Number},annoucement_interval:{type:Number},annoucement_list:{type:Object},annoucement_last_update:{type:String},banner_interval:{type:Number},banner_list:{type:Object},banner_last_update:{type:String},polling_interval:{type:Number}},setup(n){const e=n,t=R([]),r=R(0),i=R(0),o=R(new Date),s=R([]);let c=null;const m=R(),a=R(),y={Video:Tn},_={rewind:!0,autoWidth:!0,autoplay:!0,interval:e.annoucement_interval,arrows:!1,pagination:!1,heightRatio:.04},g={type:"loop",focus:"center",arrows:!1,pagination:!1,video:{loop:!1,mute:!0,autoplay:!0},heightRatio:.76};rt(()=>{c=new bootstrap.Modal("#msgModal"),a.value&&(a.value.splide.on("video:ended",l=>{a.value.splide.go(">")}),a.value.splide.on("moved",l=>{C(l)}),C(0)),D(),setInterval(S,900),setInterval(D,e.polling_interval)});function C(l){var f;((f=a.value.splide.Components.Elements.slides[l])==null?void 0:f.getAttribute("data-isvideo"))=="false"&&setTimeout(()=>{a.value.splide.go(">")},e.banner_interval)}function S(){o.value=new Date}function D(){it.get(route("area.latest",e.station_code)).then(function(l){if(e.station_last_update!=l.data.station_last_update){w();return}if(e.annoucement_last_update!=l.data.annoucement_last_update){w();return}if(e.banner_last_update!=l.data.banner_last_update){w();return}for(var h of l.data.list){h.timer=st(new Date(h.finished_at)),h.finish_date=new Date(new Date(h.finished_at));let f=new Date(h.finished_at);h.warning_date=new Date(f.getTime()-e.warning_below_seconds*1e3)}t.value=l.data.list,r.value=l.data.air??0,i.value=l.data.temperature??0,l.data.messages!=null&&l.data.messages.length>0?(s.value=l.data.messages,c.show()):c.hide()})}function w(){location.reload()}function V(l,h){return o.value>h?"text-danger":o.value>l?"text-warning":""}const v=fe(()=>t.value.length),u=fe(()=>t.value.length>=e.max_pax?"bg-danger":"bg-success"),d=fe(()=>r.value>200?"bg-danger":r.value>100?"bg-warning":"bg-success");return(l,h)=>(k(),M(q,null,[F(A(ot),{title:"Dashboard"}),p("div",kn,[p("main",Cn,[p("div",An,[xn,p("div",In,[p("div",{class:Q(["sensor-column text-center rounded-3",A(u)])},[Sn,$(" "+x(A(v)),1)],2)]),p("div",Vn,[p("div",{class:Q(["sensor-column text-center rounded-3",A(d)])},[Mn,$(" "+x(r.value),1)],2)]),p("div",Nn,[p("div",On,[Dn,$(" "+x(i.value),1)])])]),p("div",Rn,[p("div",Ln,[p("div",Fn,[F(A(Oe),{ref_key:"splide_annoucement",ref:m,options:_,"aria-label":"Annoucements",style:{height:"100%"}},{default:N(()=>[(k(!0),M(q,null,Z(e.annoucement_list,f=>(k(),he(A(ge),{class:"fs-4 text-light",style:{width:"100%"}},{default:N(()=>[p("span",{innerHTML:f.html_content},null,8,$n)]),_:2},1024))),256))]),_:1},512)])])]),p("div",qn,[p("div",Bn,[p("div",Yn,[p("table",Un,[p("thead",null,[p("tr",Wn,[F(pe,{width:"20%"},{default:N(()=>[$("ID")]),_:1}),F(pe,null,{default:N(()=>[$("Name")]),_:1}),F(pe,{width:"10%"},{default:N(()=>[$("Remaining")]),_:1})])]),p("tbody",null,[(k(!0),M(q,null,Z(t.value,(f,b)=>{var P,T,de;return k(),M("tr",jn,[p("td",{class:Q(V(f.warning_date,f.finish_date))},x(f.card_id),3),p("td",{class:Q(V(f.warning_date,f.finish_date))},x((P=f.employee)==null?void 0:P.name),3),p("td",{class:Q(["text-center",V(f.warning_date,f.finish_date)])},x((T=f.timer)==null?void 0:T.minutes)+":"+x((de=f.timer)==null?void 0:de.seconds.toLocaleString(void 0,{minimumIntegerDigits:2})),3)])}),256))])])])]),p("div",Hn,[F(A(Oe),{ref_key:"splide_banner",ref:a,"aria-labelledby":"video-image-slider",options:g,extensions:y},{default:N(()=>[(k(!0),M(q,null,Z(n.banner_list,f=>(k(),M(q,null,[f.type=="video"?(k(),he(A(ge),{key:0,"data-splide-html-video":f.full_path,"data-isvideo":"true"},{default:N(()=>[p("img",{src:"/assets/play-icon.png"},null,8,zn)]),_:2},1032,["data-splide-html-video"])):(k(),he(A(ge),{key:1,"data-isvideo":"false"},{default:N(()=>[p("img",{src:f.full_path},null,8,Gn)]),_:2},1024))],64))),256))]),_:1},512)])])]),p("footer",Qn,[Jn,p("div",Xn," Smoking Monitoring System v"+x(l.$page.props.version),1)])]),p("div",Kn,[p("div",Zn,[p("div",er,[p("div",tr,[p("ul",null,[(k(!0),M(q,null,Z(s.value,f=>(k(),M("li",nr,x(f.msg),1))),256))])])])])])],64))}};export{cr as default};
